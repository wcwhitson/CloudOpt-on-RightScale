################################################################################
# cloudoptimizer_show.rb
################################################################################
# Chef recipe, part of cloudoptimizer cookbook
################################################################################
# Copyright 2012 CloudOpt, Inc.  All rights reserved.
################################################################################
# Author: Bill Whitson <bill@cloudopt.com>
################################################################################
# Display CloudOptimizer configuration in the RightScale audit log
################################################################################

rightscale_marker :begin

log "========== Retrieving CloudOptimizer Configuration  =========="

log "--------------------------------------------------------------"
log "CLOUDOPTIMIZER VERSION:"
get_version
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "HOME DIRECTORY:"
get_home_dir
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "CACHE SIZE:"
get_cache_size
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SOCKET LOCATION:"
get_socket_location
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "BITMAP SIZE:"
get_bitmap_size
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "DB MEMORY SIZE:"
get_db_memory_size
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "LOG DIRECTORY:"
get_log_dir
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "LOG KEY:"
get_log_key
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "COMPRESSION ENGINE:"
get_compression_engine
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "COMPRESSION LEVEL:"
get_compression_level
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "OPTIMISTIC DEDUPLICATION:"
get_optimistic_deduplication
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "CACHE PROMOTION:"
get_cache_promotion
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "COMPRESS CACHE:"
get_compress_cache
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "THREAD COUNT:"
get_thread_count
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "INTELLIGENT MESH:"
get_intelligent_mesh
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "LOCAL PROXY ADDRESS:"
get_local_proxy_address
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "PEER PROXY PORT:"
get_peer_proxy_port
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "ENABLE SOCKS:"
get_socks_proxy
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SOCKS PROXY PORT:"
get_socks_proxy_port
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SOCKS USERNAME:"
get_socks_proxy_username
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SOURCE TRANSPARENCY:"
get_transparent_proxy
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SOURCE REMAP:"
get_source_remap
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "PEER ENCRYPTION:"
get_peer_encryption
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SSL KEY:"
get_ssl_key
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SSL CERT:"
get_ssl_cert
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "SSL CA:"
get_ssl_ca
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "PEERS:"
get_peers
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "TERMINATE SSL:"
get_terminate_ssl
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "VERIFY UPSTREAM CERTIFICATE:"
get_verify_upstream_cert
log "--------------------------------------------------------------"

log "--------------------------------------------------------------"
log "CIFS OPTIMIZATION:"
get_cifs_optimization
log "--------------------------------------------------------------"

log "============ End of CloudOptimizer Configuration  ============"

rightscale_marker :end
